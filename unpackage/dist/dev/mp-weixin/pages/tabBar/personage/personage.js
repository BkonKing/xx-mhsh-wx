(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/personage/personage"],{67:function(n,e,t){"use strict";(function(n){t(5);r(t(3));var e=r(t(68));function r(n){return n&&n.__esModule?n:{default:n}}wx.__webpack_require_UNI_MP_PLUGIN__=t,n(e.default)}).call(this,t(1)["createPage"])},68:function(n,e,t){"use strict";t.r(e);var r=t(69),o=t(71);for(var i in o)"default"!==i&&function(n){t.d(e,n,(function(){return o[n]}))}(i);t(74);var s,u=t(11),a=Object(u["default"])(o["default"],r["render"],r["staticRenderFns"],!1,null,"68ea512d",null,!1,r["components"],s);a.options.__file="pages/tabBar/personage/personage.vue",e["default"]=a.exports},69:function(n,e,t){"use strict";t.r(e);var r=t(70);t.d(e,"render",(function(){return r["render"]})),t.d(e,"staticRenderFns",(function(){return r["staticRenderFns"]})),t.d(e,"recyclableRender",(function(){return r["recyclableRender"]})),t.d(e,"components",(function(){return r["components"]}))},70:function(n,e,t){"use strict";var r;t.r(e),t.d(e,"render",(function(){return o})),t.d(e,"staticRenderFns",(function(){return s})),t.d(e,"recyclableRender",(function(){return i})),t.d(e,"components",(function(){return r}));try{r={uniNavBar:function(){return t.e("uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar").then(t.bind(null,274))},uniList:function(){return t.e("uni_modules/uni-list/components/uni-list/uni-list").then(t.bind(null,315))},uniListItem:function(){return t.e("uni_modules/uni-list/components/uni-list-item/uni-list-item").then(t.bind(null,322))}}}catch(u){if(-1===u.message.indexOf("Cannot find module")||-1===u.message.indexOf(".vue"))throw u;console.error(u.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var n=this,e=n.$createElement,t=(n._self._c,n.hasLogIn&&"0"!=n.userType?n._f("houseRoleColor")(n.userType):null),r=n.hasLogIn&&"0"!=n.userType?n._f("houseRoleColor")(n.userType):null,o=n.hasLogIn&&"0"!=n.userType?n._f("houseRoleText")(n.userType):null,i=n.hasLogIn&&n.userInfo.position?n._f("houseRoleColor")(5):null,s=n.hasLogIn&&n.userInfo.position?n._f("houseRoleColor")(5):null,u=n._f("signText")(n.userInfo.signin_status);n._isMounted||(n.e0=function(e){return n.$router.push("/pages/personage/information/index")},n.e1=function(e){return n.$router.push("/pages/personage/message/index")},n.e2=function(e){return n.$router.push("/pages/personage/question/index")},n.e3=function(e){return n.$router.push("/pages/personage/feedback/index")},n.e4=function(e){return n.$router.push("/pages/personage/setting/index")}),n.$mp.data=Object.assign({},{$root:{f0:t,f1:r,f2:o,f3:i,f4:s,f5:u}})},i=!1,s=[];o._withStripped=!0},71:function(n,e,t){"use strict";t.r(e);var r=t(72),o=t.n(r);for(var i in r)"default"!==i&&function(n){t.d(e,n,(function(){return r[n]}))}(i);e["default"]=o.a},72:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(16),o=t(39),i=t(37),s=t(73);function u(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function a(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?u(Object(t),!0).forEach((function(e){c(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function c(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var l=function(){t.e("modules/TfCalendar/index").then(function(){return resolve(t(329))}.bind(null,t)).catch(t.oe)},f=function(){t.e("pages/tabBar/credit/components/SignRuleDialog").then(function(){return resolve(t(336))}.bind(null,t)).catch(t.oe)},d=function(){t.e("modules/SignInAlert/index").then(function(){return resolve(t(343))}.bind(null,t)).catch(t.oe)},g={name:"PersonagePage",components:{SignRuleDialog:f,TfCalendar:l,SignInAlert:d},data:function(){return{signStatus:!0,showCalendar:!1,orderData:{},hbBannerData:{},signLoading:!1,signRuleVisible:!1,signAlertVisible:!1,signMessage:"",signOwnerCredits:"",shopData:{},sign:(0,i.throttle)(this.handleSign)}},computed:a(a({},(0,r.mapGetters)(["userInfo","userType","currentProject"])),{},{isShop:function(){return+this.shopData.is_shops},isShopStaff:function(){return+this.shopData.is_shops_clerk},hasLogIn:function(){return this.userInfo&&this.userInfo.id}}),onLoad:function(){},onShow:function(){var n=this;this.hasLogIn&&this.$store.dispatch("getMyAccount").then((function(e){var t=e.order_data,r=(e.hb_banner_data,e.shops_data);n.orderData=t,n.shopData=r||{}}))},methods:{handleSign:function(){var e=this;this.hasLogIn?0===this.userInfo.signin_status?(0,s.handlePermission)({name:"userLocation",title:"定位服务未开启",message:"为了提供更好服务，需要您开启定位"}).then((function(){e.signLoading=!0,(0,o.signin)().then((function(t){e.signLoading=!1,+t.open_box?(e.signMessage=t.message,e.signOwnerCredits=t.owner_credits,e.signAlertVisible=!0):n.showToast({title:t.message,icon:"none"}),e.$store.dispatch("getMyAccount")})).catch((function(){e.signLoading=!1}))})):2===this.userInfo.signin_status?this.signRuleVisible=!0:this.showCalendar=!0:this.goLogin()},goInformation:function(){this.$router.push("/pages/personage/information/index")},goCredit:function(){n.switchTab({url:"/pages/tabBar/credit/credit"})},goCouponList:function(){this.$router.push("/pages/personage/coupon/list")},goLogin:function(){this.$router.push("/pages/index/login")}},filters:{signText:function(n){return 1===n?"已签到":"签到"}}};e.default=g}).call(this,t(1)["default"])},74:function(n,e,t){"use strict";t.r(e);var r=t(75),o=t.n(r);for(var i in r)"default"!==i&&function(n){t.d(e,n,(function(){return r[n]}))}(i);e["default"]=o.a},75:function(n,e,t){}},[[67,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/tabBar/personage/personage.js.map